# Java home - Using Java 17
org.gradle.java.home=C:\\Program Files\\Java\\jdk-17

# JVM settings - Optimized for Java 17
org.gradle.jvmargs=-Xmx4096m \
  -Dfile.encoding=UTF-8 \
  -XX:+HeapDumpOnOutOfMemoryError \
  -XX:MaxMetaspaceSize=1g \
  -XX:+UseG1GC \
  -Dkotlin.daemon.jvm.options\="-Xmx2048m -XX:MaxMetaspaceSize=1024m -XX:+UseG1GC" \
  --add-opens=java.base/java.util=ALL-UNNAMED \
  --add-opens=java.base/java.lang=ALL-UNNAMED \
  --add-opens=java.base/java.lang.invoke=ALL-UNNAMED

# Gradle settings
org.gradle.daemon=true
org.gradle.parallel=true
org.gradle.caching=true
org.gradle.configureondemand=true

# Android project settings
android.useAndroidX=true
android.enableJetifier=false
android.nonTransitiveRClass=true

# R8 settings - Use full mode for better optimization in production
android.enableR8.fullMode=true

# Kotlin settings
kotlin.code.style=official
kotlin.native.cacheKind=none
kotlin.incremental.js.ir=true
kotlin.experimental.tryK2=false

# KAPT settings - Optimized for incremental builds
kapt.include.compile.classpath=false
kapt.use.worker.api=true
kapt.incremental.apt=true
kapt.verbose=false
kapt.show.processor.timings=true
kapt.strict=false
kapt.include.test.compile.classpath=false
kapt.include.test.runtime.classpath=false
kapt.include.api.classpath=false

# Kotlin compiler settings
kotlin.daemon.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8 -XX:+HeapDumpOnOutOfMemoryError -XX:MaxMetaspaceSize=1g
kotlin.incremental=true
kotlin.caching.enabled=true
kotlin.parallel.tasks.in.project=true

# Java toolchain settings
org.gradle.java.installations.auto-detect=true
org.gradle.java.installations.auto-download=true
org.gradle.java.installations.fromEnv=JAVA_HOME

# Explicitly set secure XML parsers
systemProp.javax.xml.parsers.SAXParserFactory=com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl
systemProp.javax.xml.parsers.DocumentBuilderFactory=com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl

# Add this to prepare for 16 KB page size support
android.bundle.useLegacyPackaging=false

# Suppress warning about unsupported compileSdk version
android.suppressUnsupportedCompileSdk=35